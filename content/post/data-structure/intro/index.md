---
title: 자료구조
description: 자료구조의 기초 이론을 학습합니다
slug: data-structure-intro
date: 2024-10-25
categories:
  - data_structure
tags: 
  - theory
  - computer science
---
  
시작하기에 앞서 우리는 C++ 언어를 사용하여 모든 아티클의 예제를 구현합니다. C++ 언어에 대한 기본적인 지식이 있다면 해당 자료를 이해하는데 도움이 될 것입니다.

# 자료구조(Data Structure)
자료구조는 컴퓨터가 데이터를 효율적으로 다룰 수 있게 도와주는 `데이터 보관 방법과 데이터에 관한 연산의 총체`를 의미합니다.
자료구조는 단순 자료구조(Primitive Data Structure)와 복합 자료구조(Non-Primitive Data Structure)로 나뉩니다.
  
단순 자료구조는 byte, int, float 등의 프로그래밍 언어에서 통상적으로 제공하는 데이터 형식을 말합니다. 
예를 들어, int 자료구조는 32비트 메모리 공간 안에 수를 할당하되 첫 비트를 부호 표현에 사용하는 등의 보관 방법을 정의하고 있고,
사칙, 논리, 비트연산의 다양한 연산 또한 정의하고 있습니다.
  
복합 자료구조는 단순 자료구조 외의 모든 자료구조를 말합니다. 복합 자료구조는 선형 자료구조(Linear Data Structure)와 비선형 자료구조(Non-Linear Data Structure)로 나뉩니다.
선형 자료구조는 데이터 요소를 순차적으로 연결하는 자료구조로, 구현과 사용에 용이합니다. 배열(Array), 스택(Stack), 큐(Queue) 등의 자료구조가 여기에 해당합니다.
비선형 자료구조는 선형 자료구조와 달리 데이터 요소를 비순차적으로 연결합니다. 하나의 데이터 요소에서 여러 데이터로 연결되거나, 여러 데이터 요소가 하나의 데이터 요소로 연결되기도 합니다.
트리(Tree)와 그래프(Graph)가 여기에 해당합니다.

# 알고리즘(Algorithm)
알고리즘은 `어떤 문제를 풀기 위한 단계적 절차`를 의미합니다. 알고리즘을 설계한다는 것은 문제 풀이 절차를 설계한다는 의미이고, 
알고리즘을 구현한다는 것은 프로그래밍 언어를 이용해서 문제 풀이 절차를 실제로 동작하는 코드로 작성한다는 의미입니다.
  
# 메모리 레이아웃
C++ 언어로 작성한 코드를 컴파일하고 실행하면, 운영체제는 해당 실행파일을 바탕으로 프로세스를 생성하고 이 프로세스에 크게 스택(Stack), 힙(Heap), 데이터(Data), 텍스트(Text) 영역으로 이루어진 메모리를 할당합니다.
  
텍스트와 데이터 영역은 실행파일에서 읽어 들인 정보를 기록하는 공간입니다. 텍스트 영역에는 CPU가 실행할 코드가 적재되고 데이터 영역에는 전역 변수나 정적 변수 등이 저장됩니다. 데이터 영역은 정적 메모리(Static Memory)라고 부릅니다.
힙과 스택은 각각 자유 저장소(Free Store)와 자동 메모리(Automatic Memory)라고도 불립니다. 이 두 영역은 실행 중인 프로그램이 사용합니다.

```c++
+-------------------------------+  <- 높은 메모리 주소
|           Stack               |  - 지역 변수, 함수 호출 시 사용되는 메모리
+-------------------------------+
|                               |
|                               |
|            Heap               |  - 동적 할당 메모리 (malloc, new 등)
|                               |
|                               |
+-------------------------------+
|        BSS Segment            |  - 초기화되지 않은 전역 및 정적 변수
+-------------------------------+
|       Data Segment            |  - 초기화된 전역 및 정적 변수
+-------------------------------+
|       Text Segment            |  - 코드 영역 (실행 파일의 명령어 저장)
+-------------------------------+
|       운영체제 예약 영역          |
+-------------------------------+  <- 낮은 메모리 주소
```

# 스택(Stack)의 데이터 처리
스택은 선입후출(FILO, First In Last Out) 또는 후입선출(LIFO, Last In First Out) 방식으로 작동합니다. 즉, 출력은 입력의 역순으로 동작합니다.
다음과 같이 코드 블록 안에서 지역 변수 a, b, c를 차례대로 선언한다면 스택에 a, b, c가 순서대로 쌓입니다.
```c++
{
    int a = 100; // 1
    int b = 100; // 2
    int c = 100; // 3
} // 4
```
스택에 쌓인 a, b, c는 코드 블록이 끝나는 지점에서 제거되어야 합니다. 따라서 스택의 작동 방식에 따라 c, b, a의 순서로 제거됩니다.

```c++
1 >> a
2 >> a, b
3 >> a, b, c
4 >> a, b, c -> a, b -> a -> 
```
코드 블록을 열고 닫음에 따라 코드 블록에 선언한 변수가 자동으로 메모리에서 제거되는것을 볼 수 있습니다. 
이처럼, 프로그래머가 신경 쓰지 않아도 자동으로 메모리를 해제하기에 스택은 자동 메모리로 불립니다.


# 힙(Heap)의 데이터 처리
힙은 자유 저장소라는 별명을 갖고 있습니다. 자유 저장소는 자동 메모리와 달리 프로그래머가 직접 메모리를 관리하는 메모리 영역입니다.
프로그래머는 힙 위에 자유롭게 메모리를 할당해서 사용할 수 있지만, 그 메모리를 안전하게 해제하는 것은 프로그래머가 책임져야 합니다.

```c++
struct Vector {
    int x;
    int y;
    int z;
    
    Vector(int inX, int inY, int inZ) : x(inX), y(inY), z(inZ) {}
};

int main() {
    Vector* vec = new Vector(1, 2, 3); // 1
    delete vec; // 2
    return 0;
}
```
이 코드를 실행하면 1번 시점에 Vector 구조체의 크기만큼 힙에 메모리를 할당하고, 스택에 위치한 vec가 그 메모리의 주소를 가리키게 됩니다.
vec는 선언된 코드 블록을 벗어나는 위치에서 스택으로부터 제거되지만, 동적으로 할당한 힙의 공간은 여전히 남아있게 됩니다. 그것이 바로 메모리 누수입니다.
이러한 메모리 누수를 방지하려면 2번과 같이 동적으로 할당한 메모리를 해제하야 합니다.

> [다음글: 자료구조: 링크드 리스트](https://learngraphics.io/p/data-structure-linkedlist/)